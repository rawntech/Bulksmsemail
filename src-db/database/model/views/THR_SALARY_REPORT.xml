<?xml version="1.0"?>
  <database name="VIEW THR_SALARY_REPORT">
    <view name="THR_SALARY_REPORT"><![CDATA[SELECT h.ad_client_id, h.ad_org_id, o.name AS "Orgname", d.documentno AS "Code", h.otime AS "OThr", h.otamt AS "OTAmount", h.tot_lopdays AS "LWPDats", h.tot_lopamt AS "LWPAmount", d.thr_empl_info_id AS "Employee_ID", d.known_as AS "Name", h.tot_earnings AS "Gross", di.name AS "Designation", de.name AS "Department", p.name AS "Month", h.daysworked, p.c_period_id, d.accountno, p.startdate, p.enddate, date_part('days', p.enddate) AS monthdays, round(COALESCE(thr_getpayallounce_amount('Basic', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Basic", round(COALESCE(thr_getpayallounce_amount('House Rent', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "House_Rent", round(COALESCE(thr_getpayallounce_amount('LWP', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "LWP", round(COALESCE(thr_getpayallounce_amount('Food', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Food_Allowance", round(COALESCE(thr_getpayallounce_amount('Overtime', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Overtime", round(COALESCE(thr_getpayallounce_amount('Conveyance', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Conveyance", round(COALESCE(thr_getpayallounce_amount('Tax', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Tax", round(COALESCE(thr_getpayallounce_amount('Mobile Bill', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Mobile_Bill", round(COALESCE(thr_getpayallounce_amount('Medical', h.c_period_id, h.thr_empl_info_id), 0), 0) AS "Medical" FROM thr_empl_sal_perd_emp h LEFT JOIN thr_empl_info d ON h.thr_empl_info_id = d.thr_empl_info_id LEFT JOIN c_period p ON h.c_period_id = p.c_period_id LEFT JOIN thr_em_department de ON h.emp_department = de.thr_em_department_id LEFT JOIN thr_em_designation di ON h.emp_position = di.thr_em_designation_id JOIN ad_org o ON h.ad_org_id = o.ad_org_id ORDER BY d.documentno]]></view>
  </database>
